# Coding Conventions and Guidelines

> âš ï¸ MOST IMPORTANT: **DO NOT edit this file.** Follow all guidelines below precisely.

---

## âš™ï¸ General Principles

1. Do not restructure existing code to fit your personal conventions.
2. Only introduce new logic or features. Structural/architectural changes require team discussion.
3. Use **explicit semicolons**. Optional semicolons are **not allowed**.

---

## ðŸ§© Component Structure

1. Reusable components: `src/features/buildingBlocks/`
2. Page-specific components: `src/features/pageOnly/`
3. Context and providers: `src/features/contexts/`
4. Global providers may be wrapped in `App.js` (was `App.tsx`)

---

## ðŸ§  Naming Conventions

| Element             | Convention            | Example                |
|---------------------|------------------------|------------------------|
| Component Files     | PascalCase             | `MyComponent.js`       |
| Component Names     | PascalCase             | `function MyComponent` |
| Variables/functions | camelCase              | `handleSubmit`         |
| Class names (CSS)   | camelCase              | `buttonPrimary`        |
| Constants           | SCREAMING_SNAKE_CASE   | `MAX_ITEMS`            |

---

## ðŸ—‚ File Organization

1. Import order:
   - React and hooks
   - Third-party libraries
   - Types/interfaces
   - Utilities/helpers
   - Local components
   - Styles (CSS Modules last)
2. Export components using **named exports**.
3. Avoid div soup: use semantic HTML and split complex markup into subcomponents.
4. Prefer one component per file. If tightly coupled, define child components **inline** (non-exported).

---

## ðŸ§© Component Guidelines

1. Use **`.js` with JSX** (not `.tsx`)
2. Define **prop types inline** using `@typedef` JSDoc or `PropTypes` (see below)
3. Use **function declarations** (not arrow functions) for components
4. Place helper functions **after return**, or move outside if stateless
5. Spread unmutated props:  
   âœ… `{...{ prop1, prop2 }}`
   âŒ `prop1={prop1} prop2={prop2}`
6. Mutated or renamed props must be explicit:  
   âœ… `formattedDate={rawDate}`

---

## ðŸ§  State Management

1. Use React hooks for local state
2. Lift state up as needed
3. Use React context for global state
4. Avoid prop drilling beyond 2 levels

---

## ðŸŽ¨ Styling

> âœ¨ Using **CSS Modules** â€” Tailwind has been phased out

1. All styles should live in `.module.css` files
2. Use semantic, scoped class names (e.g. `searchInput`, `dropzoneWrapper`)
3. Use **composition-friendly** utility classes in CSS, not inline
4. Avoid `!important`
5. Follow **mobile-first** design
6. Use colors via `var(--color-...)` from `cssGlobal.css`.  
   âœ… `background-color: var(--color-gray-800);`  
   âŒ `background-color: #1f2937;`
   Do not introduce new colors, only use existing colors from '/src/cssGlobal/color.css'

---

## âš ï¸ Error Handling

1. Use `try/catch` for async logic
2. Always log meaningful errors
3. Handle empty/null/edge cases
4. Use error boundaries for rendering failures

---

## ðŸš€ Performance

1. Memoize expensive logic using `useMemo`
2. Use `React.memo` for pure components
3. Debounce inputs where needed
4. Lazy-load non-critical pages/components

---

## ðŸ§ª Testing

1. Unit test pure functions/utilities
2. Integration test components with side effects
3. Use clear, descriptive test names
4. Follow AAA (Arrange, Act, Assert) in tests

---

## ðŸ“š Documentation

1. Use JSDoc (`@param`, `@returns`) for all exported functions
2. Comment on tricky logic or architectural workarounds
3. Keep `README.md` up to date
4. Add changelogs for breaking changes

---

## ðŸ” Git & PR Workflow

1. Use **conventional commits** (`feat:`, `fix:`, `refactor:`)
2. Keep PRs short, clear, and focused
3. Provide context in PR descriptions
4. Always review code before merging

---

## ðŸ“ Typing in JS Files

> ðŸ§© Typing is done **inline in `.js` files** using **JSDoc**, not TypeScript

- Use `@typedef` + `@param` for components and helpers
- Prefer explicit `PropTypes` if needed (optional)
- Do **not** rename back to `.tsx` or reintroduce TypeScript types

You may define reusable JSDoc types in `types.js` if needed.

---

âœ… Follow these conventions strictly to maintain consistency and minimize onboarding time.
